# Binary packages except for annoy which needs compilation
--only-binary=:all: --no-binary=annoy

# Core packaging tools
pip>=25.2
setuptools>=65.0
wheel

# === Web / API ===
# FastAPI + ASGI server
fastapi==0.115.9
uvicorn[standard]==0.24.0
python-multipart==0.0.6
# starlette is a FastAPI dependency; keep a safe range to avoid breaking changes
starlette>=0.40.0,<0.46.0

# === OpenAI / ML / Embeddings ===
openai==1.3.8
torch==2.5.0 -f https://download.pytorch.org/whl/cpu/torch_stable.html
safetensors==0.4.2
transformers==4.41.2
sentence-transformers==5.1.0
tokenizers==0.19.1

# === Vector DBs (FAISS / Annoy) ===
# Use faiss-cpu for CPU deployments; for GPU replace with faiss-gpu in your environment
faiss-cpu==1.12.0
annoy==1.17.3

# === Web scraping / HTML parsing ===
requests==2.31.0
beautifulsoup4==4.12.2
selenium==4.15.2
scrapy==2.11.0
lxml==5.4.0
html5lib==1.1

# === Data processing / ML utilities ===
pandas==2.2.2
numpy==1.26.4
nltk==3.8.0
spacy==3.7.2
scikit-learn==1.5.1
scipy==1.13.1

# === PDF / Document processing ===
PyMuPDF==1.24.10
pdfplumber==0.11.0
pypdf==4.2.0
python-docx==1.1.0

# === OCR / Images ===
pytesseract==0.3.10
pdf2image==1.17.0
Pillow==10.4.0
opencv-python-headless==4.10.0.84

# === Text cleanup / tokenization ===
ftfy==6.2.0
regex==2024.5.15

# === Environment / config / serialization ===
python-dotenv==1.0.1
# include pydantic with the `email` extra if you use its email validators
pydantic[email]==2.6.1
PyYAML==6.0.2

# === Utilities ===
tqdm==4.66.4
colorama==0.4.6
rich==13.7.1

# Async HTTP / files
aiohttp==3.10.5
httpx==0.27.0
aiofiles==24.1.0
requests-toolbelt==1.0.0

# Google Sheets integration (optional)
gspread==6.1.2
google-auth==2.35.0
google-auth-oauthlib==1.2.1
google-auth-httplib2==0.2.0
googleapis-common-protos==1.65.0

# Caching, retries, and performance
joblib==1.4.2
cachetools==5.5.0
tenacity==9.0.0

# JSON serializers (orjson is fast; ujson kept for compatibility where used)
orjson==3.10.7
ujson==5.10.0

# Date/time / encoding
python-dateutil==2.9.0.post0
pytz==2024.1
charset-normalizer==3.3.2

# === Development / lint / test ===
pytest==8.3.2
pytest-asyncio==0.23.8
pytest-cov==5.0.0
black==24.8.0
isort==5.13.2
mypy==1.11.1
flake8==7.1.1

# === Monitoring & logging ===
structlog==24.4.0
prometheus-client==0.20.0

# Notes:
# - If you need GPU support for FAISS or PyTorch, replace faiss-cpu and install a
#   CUDA-compatible PyTorch wheel for your system. Keep these changes out of this
#   requirements file unless you have a dedicated GPU environment.
# - To install exactly what's here (recommended in a fresh venv):
#
#   python -m pip install --upgrade pip
#   python -m pip install -r requirements.txt
